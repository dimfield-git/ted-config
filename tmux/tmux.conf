# Truecolor
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc,xterm-kitty:Tc"

# Mouse support (pane select/resize/scroll)
set -g mouse on

# Snappier
set -sg escape-time 0

# Splits like a sane terminal
unbind '"'
unbind %
bind | split-window -h
bind - split-window -v

# Fast pane movement (vim keys)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Reload
bind r source-file ~/.config/tmux/tmux.conf \; display-message "tmux reloaded"

# Simple status bar
set -g status on
set -g status-interval 2
set -g status-left "#S "
set -g status-right "%Y-%m-%d %H:%M"


# Refresh the status line every 2s
set -g status-interval 2

# Left: session name = MODE
set -g status-left " MODE:#S "

# Right: HUD + running programs
set -g status-right "#(~/bin/tedos-hud) | #(~/bin/tedos-procs)"

##### HUD: TOP + TRUECOLOR + POWERLINE #####

# Put status bar at the top
set -g status-position top

# Refresh interval
set -g status-interval 2

# Truecolor
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc,xterm-kitty:Tc"

# Make it visually tight
set -g status-justify left
set -g status-left-length 80
set -g status-right-length 150

# Base styling
set -g status-style "bg=#0b0f14,fg=#c0caf5"

# Window tabs styling
setw -g window-status-style "bg=#0b0f14,fg=#6b7280"
setw -g window-status-current-style "bg=#0b0f14,fg=#e5e7eb,bold"
setw -g window-status-format "  #I:#W  "
setw -g window-status-current-format "  #I:#W  "

# Powerline separators (require a Nerd Font or Powerline font)
set -g @sep_right ""
set -g @sep_left  ""

# LEFT: MODE (session name) as a segment
set -g status-left "\
#[bg=#1f2937,fg=#e5e7eb,bold] MODE:#S \
#[bg=#0b0f14,fg=#1f2937]#{@sep_right}\
"

# RIGHT: HUD + PROCS with colored segments
set -g status-right "\
#[bg=#0b0f14,fg=#374151]#{@sep_left}\
#[bg=#374151,fg=#e5e7eb] #(~/bin/tedos-hud) \
#[bg=#0b0f14,fg=#7c3aed]#{@sep_left}\
#[bg=#7c3aed,fg=#ffffff,bold] #(~/bin/tedos-procs) \
#[bg=#0b0f14,fg=#111827]#{@sep_left}\
#[bg=#111827,fg=#9ca3af] %Y-%m-%d %H:%M \
"
